(base) web3@web3deMacBook-Pro hello_foundry % forge test --mc NFTMarketTest -vvv
[⠊] Compiling...
[⠰] Compiling 1 files with Solc 0.8.30
[⠒] Solc 0.8.30 finished in 1.37s
Compiler run successful with warnings:
Warning (2018): Function state mutability can be restricted to view
   --> test/NFTMarket.t.sol:324:5:
    |
324 |     function invariant_MarketHasNoTokenBalance() public {
    |     ^ (Relevant source part starts here and spans across multiple lines).


Ran 16 tests for test/NFTMarket.t.sol:NFTMarketTest
[PASS] invariant_MarketHasNoTokenBalance() (runs: 256, calls: 128000, reverts: 89102)

╭------------+-------------------+-------+---------+----------╮
| Contract   | Selector          | Calls | Reverts | Discards |
+=============================================================+
| NFTMarket  | buyNFT            | 9698  | 9698    | 0        |
|------------+-------------------+-------+---------+----------|
| NFTMarket  | list              | 9821  | 9821    | 0        |
|------------+-------------------+-------+---------+----------|
| NFTMarket  | tokensReceived    | 9782  | 9782    | 0        |
|------------+-------------------+-------+---------+----------|
| MockERC20  | approve           | 9703  | 10      | 0        |
|------------+-------------------+-------+---------+----------|
| MockERC20  | mint              | 9735  | 373     | 0        |
|------------+-------------------+-------+---------+----------|
| MockERC20  | transfer          | 9812  | 9697    | 0        |
|------------+-------------------+-------+---------+----------|
| MockERC20  | transferFrom      | 10039 | 9897    | 0        |
|------------+-------------------+-------+---------+----------|
| MockERC721 | approve           | 9908  | 9908    | 0        |
|------------+-------------------+-------+---------+----------|
| MockERC721 | mint              | 9796  | 19      | 0        |
|------------+-------------------+-------+---------+----------|
| MockERC721 | safeTransferFrom  | 19920 | 19920   | 0        |
|------------+-------------------+-------+---------+----------|
| MockERC721 | setApprovalForAll | 9837  | 28      | 0        |
|------------+-------------------+-------+---------+----------|
| MockERC721 | transferFrom      | 9949  | 9949    | 0        |
╰------------+-------------------+-------+---------+----------╯

[PASS] testFuzz_ListAndBuyNFT(uint256,address) (runs: 256, μ: 254318, ~: 254408)
[PASS] test_BuyNFTSuccess() (gas: 174984)
Logs:
  allowance msg.sender: 0x0fF93eDfa7FB7Ad5E962E4C0EdB9207C03a0fe02
  allowance: 100000000000000000000

[PASS] test_BuyNFT_DoublePurchase() (gas: 166051)
Logs:
  allowance msg.sender: 0x0fF93eDfa7FB7Ad5E962E4C0EdB9207C03a0fe02
  allowance: 100000000000000000000

[PASS] test_BuyNFT_ExactAllowance() (gas: 166784)
Logs:
  allowance msg.sender: 0x0fF93eDfa7FB7Ad5E962E4C0EdB9207C03a0fe02
  allowance: 100000000000000000000

[PASS] test_BuyNFT_InsufficientAllowance() (gas: 145106)
Logs:
  allowance msg.sender: 0x0fF93eDfa7FB7Ad5E962E4C0EdB9207C03a0fe02
  allowance: 99999999999999999999

[PASS] test_BuyNFT_InsufficientBalance() (gas: 148734)
Logs:
  allowance msg.sender: 0x0fF93eDfa7FB7Ad5E962E4C0EdB9207C03a0fe02
  allowance: 10000000000000000000001

[PASS] test_BuyNFT_NotListed() (gas: 20479)
[PASS] test_BuyNFT_SelfPurchase() (gas: 102569)
[PASS] test_ListNFTSuccess() (gas: 105843)
[PASS] test_ListNFT_MinimumPrice() (gas: 101974)
[PASS] test_ListNFT_NotOwner() (gas: 22594)
[PASS] test_ListNFT_VariousPrices() (gas: 819056)
[PASS] test_ListNFT_ZeroPrice() (gas: 51876)
[PASS] test_MarketTokenBalance_AfterFailedPurchase() (gas: 126246)
Logs:
  allowance msg.sender: 0x0fF93eDfa7FB7Ad5E962E4C0EdB9207C03a0fe02
  allowance: 0

[PASS] test_MultipleTransactions_MarketTokenBalance() (gas: 641304)
Logs:
  allowance msg.sender: 0x0fF93eDfa7FB7Ad5E962E4C0EdB9207C03a0fe02
  allowance: 50000000000000000000
  allowance msg.sender: 0xc7be087fF5E8811dcED44BB1a098832Ea3663dE8
  allowance: 100000000000000000000
  allowance msg.sender: 0x696BA93ef4254Da47ff05b6CAa88190dB335F1C3
  allowance: 200000000000000000000

Suite result: ok. 16 passed; 0 failed; 0 skipped; finished in 5.34s (5.45s CPU time)

Ran 1 test suite in 6.94s (5.34s CPU time): 16 tests passed, 0 failed, 0 skipped (16 total tests)